{"ast":null,"code":"import _classCallCheck from \"C:\\\\SHILPA\\\\udacity\\\\final-project-8\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\SHILPA\\\\udacity\\\\final-project-8\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\SHILPA\\\\udacity\\\\final-project-8\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\SHILPA\\\\udacity\\\\final-project-8\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\SHILPA\\\\udacity\\\\final-project-8\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\SHILPA\\\\udacity\\\\final-project-8\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport SideBar from './components/SideBar';\nimport './App.css';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props)); //Use data in different places use state\n\n    _this.showMap = function () {\n      addJsScript(\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBfiZP_S5wpf3AHIkbVcVEnqcWgDRcGYRY&callback=initMap\");\n      window.initMap = _this.initMap;\n    };\n\n    _this.getLocations = function () {\n      var baseUrl = \"https://api.foursquare.com/v2/venues/search?\";\n      var params = {\n        client_id: \"RMUZLEACYYV2TOWXVNFTDFOTV11JTY4X3U4KKNDXMLDY2423\",\n        client_secret: \"4AMQJSZIFGDXNKNIC120UOOMADB3CTJVDHZYOYB5Y2M2ITPX\",\n        query: \"coffee\",\n        ll: \"33.75,-84.38\",\n        near: \"Atlanta\",\n        v: \"20181120\",\n        limit: 10,\n        radius: 2000 //Performing a GET request\n\n      };\n      axios.get(baseUrl + new URLSearchParams(params)).then(function (response) {\n        _this.setState({\n          sites: response.data.response.venues\n        }, _this.showMap()); //console.log(response)\n\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.closeAllMarkers = function () {\n      var markers = _this.state.markers.map(function (marker) {\n        marker.isOpen = false;\n        return marker;\n      });\n    };\n\n    _this.handleMarkerClick = function (marker) {\n      //close any markers open\n      _this.closeAllMarkers();\n\n      marker.isOpen = true;\n\n      _this.setState({\n        markers: Object.assign(_this.state.markers, marker)\n      }); // venue is venue that venue.id === marker.id\n\n\n      var venue = _this.state.sites.find(function (favCoffeeSite) {\n        return favCoffeeSite.id === marker.id;\n      }); // use squareApi to get venue details using marker.id as the id for the venue.\n\n    };\n\n    _this.handleListItemClick = function (name) {\n      // const marker = this.state.markers.find(marker => marker.id === favCoffeeSite.id);\n      // this.handleMarkerClick(marker);\n      console.log(name);\n    };\n\n    _this.initMap = function () {\n      var map = new window.google.maps.Map(document.getElementById('map'), {\n        center: {\n          lat: 33.75,\n          lng: -84.38\n        },\n        zoom: 5\n      }); //info window\n\n      var infowindow = new window.google.maps.InfoWindow(); //loop over each site present in the sites array we have run a foreach/map\n\n      _this.state.sites.forEach(function (favCoffeeSite) {\n        var content = '<div id=\"contentBox\">' + '<img class=\"imageDisplay\" src=\"' + favCoffeeSite.categories[0].icon.prefix + '32' + favCoffeeSite.categories[0].icon.suffix + '\"/>' + '<p><b>' + favCoffeeSite.name + '</b></p><p>' + favCoffeeSite.location.address + '</p></div>';\n        var marker = new window.google.maps.Marker({\n          position: {\n            lat: favCoffeeSite.location.lat,\n            lng: favCoffeeSite.location.lng\n          },\n          map: map,\n          title: favCoffeeSite.name,\n          id: favCoffeeSite.id\n        }); //https://developers.google.com/maps/documentation/javascript/examples/infowindow-simple\n\n        marker.addListener('click', function () {\n          infowindow.setContent(content);\n          console.log(marker.id);\n          infowindow.open(map, marker);\n        });\n      });\n    };\n\n    _this.state = {\n      sites: [],\n      markers: [],\n      updateSuperState: function updateSuperState(obj) {\n        _this.setState(obj);\n      }\n    };\n    return _this;\n  } //calling the function\n\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getLocations(); //this.showMap()\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"main\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(SideBar, Object.assign({}, this.state, {\n        handleListItemClick: this.handleListItemClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"map\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component); //call the javascript lib\n\n\nfunction addJsScript(url) {\n  var firstItem = window.document.getElementsByTagName(\"script\")[0];\n  var secondItem = window.document.createElement(\"script\");\n  secondItem.src = url;\n  secondItem.async = true;\n  secondItem.defer = true;\n  firstItem.parentNode.insertBefore(secondItem, firstItem);\n}\n\nexport default App; //my api key AIzaSyBfiZP_S5wpf3AHIkbVcVEnqcWgDRcGYRY\n//Client ID RMUZLEACYYV2TOWXVNFTDFOTV11JTY4X3U4KKNDXMLDY2423\n//Client Secret 4AMQJSZIFGDXNKNIC120UOOMADB3CTJVDHZYOYB5Y2M2ITPX","map":{"version":3,"sources":["C:\\SHILPA\\udacity\\final-project-8\\src\\App.js"],"names":["React","Component","axios","SideBar","App","props","showMap","addJsScript","window","initMap","getLocations","baseUrl","params","client_id","client_secret","query","ll","near","v","limit","radius","get","URLSearchParams","then","response","setState","sites","data","venues","catch","error","console","log","closeAllMarkers","markers","state","map","marker","isOpen","handleMarkerClick","Object","assign","venue","find","favCoffeeSite","id","handleListItemClick","name","google","maps","Map","document","getElementById","center","lat","lng","zoom","infowindow","InfoWindow","forEach","content","categories","icon","prefix","suffix","location","address","Marker","position","title","addListener","setContent","open","updateSuperState","obj","url","firstItem","getElementsByTagName","secondItem","createElement","src","async","defer","parentNode","insertBefore"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport SideBar from './components/SideBar';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        //Use data in different places use state\r\n        this.state = {\r\n            sites: [],\r\n            markers: [],\r\n            updateSuperState: obj => {\r\n                this.setState(obj);\r\n            }\r\n        };\r\n    }\r\n    //calling the function\r\n    componentDidMount() {\r\n        this.getLocations()\r\n        //this.showMap()\r\n    }\r\n\r\n    showMap = () => {\r\n        addJsScript(\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBfiZP_S5wpf3AHIkbVcVEnqcWgDRcGYRY&callback=initMap\")\r\n        window.initMap = this.initMap\r\n    }\r\n\r\n    //get the base url and append the query parameter to it find th exact lat and long in form of json abject\r\n    getLocations = () => {\r\n        const baseUrl = \"https://api.foursquare.com/v2/venues/search?\"\r\n        const params = {\r\n            client_id: \"RMUZLEACYYV2TOWXVNFTDFOTV11JTY4X3U4KKNDXMLDY2423\",\r\n            client_secret: \"4AMQJSZIFGDXNKNIC120UOOMADB3CTJVDHZYOYB5Y2M2ITPX\",\r\n            query: \"coffee\",\r\n            ll: \"33.75,-84.38\",\r\n            near: \"Atlanta\",\r\n            v: \"20181120\",\r\n            limit: 10,\r\n            radius: 2000\r\n        }\r\n\r\n\r\n        //Performing a GET request\r\n        axios.get(baseUrl + new URLSearchParams(params))\r\n            .then(response => {\r\n                this.setState({\r\n                    sites: response.data.response.venues\r\n\r\n                }, this.showMap())\r\n                //console.log(response)\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n    }\r\n\r\n    //check for the marker default behaviour\r\n    closeAllMarkers = () => {\r\n        const markers = this.state.markers.map(marker => {\r\n            marker.isOpen = false;\r\n            return marker;\r\n        });\r\n\r\n    }\r\n\r\n    handleMarkerClick = (marker) => {\r\n        //close any markers open\r\n        this.closeAllMarkers();\r\n        marker.isOpen = true;\r\n        this.setState({ markers: Object.assign(this.state.markers, marker) })\r\n        // venue is venue that venue.id === marker.id\r\n        const venue = this.state.sites.find(favCoffeeSite => favCoffeeSite.id === marker.id);\r\n        // use squareApi to get venue details using marker.id as the id for the venue.\r\n\r\n    };\r\n\r\n    handleListItemClick = (name) => {\r\n        // const marker = this.state.markers.find(marker => marker.id === favCoffeeSite.id);\r\n        // this.handleMarkerClick(marker);\r\n        console.log(name);\r\n    };\r\n\r\n    //https://developers.google.com/maps/documentation/javascript/tutorial\r\n    //lat and long of georgia state\r\n    initMap = () => {\r\n        const map = new window.google.maps.Map(document.getElementById('map'), {\r\n            center: { lat: 33.75, lng: -84.38 },\r\n            zoom: 5\r\n        })\r\n\r\n        //info window\r\n        const infowindow = new window.google.maps.InfoWindow()\r\n\r\n        //loop over each site present in the sites array we have run a foreach/map\r\n        this.state.sites.forEach(favCoffeeSite => {\r\n            const content = '<div id=\"contentBox\">' +\r\n                '<img class=\"imageDisplay\" src=\"' + favCoffeeSite.categories[0].icon.prefix + '32' + favCoffeeSite.categories[0].icon.suffix + '\"/>' +\r\n                '<p><b>' + favCoffeeSite.name + '</b></p><p>' + favCoffeeSite.location.address + '</p></div>';\r\n\r\n            var marker = new window.google.maps.Marker({\r\n                position: { lat: favCoffeeSite.location.lat, lng: favCoffeeSite.location.lng },\r\n                map: map,\r\n                title: favCoffeeSite.name,\r\n                id: favCoffeeSite.id\r\n            })\r\n            //https://developers.google.com/maps/documentation/javascript/examples/infowindow-simple\r\n            marker.addListener('click', function() {\r\n                infowindow.setContent(content)\r\n                console.log(marker.id);\r\n                infowindow.open(map, marker)\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <main className=\"App\">\r\n            <SideBar\r\n            {...this.state} \r\n            handleListItemClick={this.handleListItemClick} />\r\n            <div id=\"map\">\r\n            </div>\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\n//call the javascript lib\r\nfunction addJsScript(url) {\r\n    const firstItem = window.document.getElementsByTagName(\"script\")[0]\r\n    const secondItem = window.document.createElement(\"script\")\r\n    secondItem.src = url\r\n    secondItem.async = true\r\n    secondItem.defer = true\r\n    firstItem.parentNode.insertBefore(secondItem, firstItem)\r\n}\r\n\r\nexport default App;\r\n\r\n//my api key AIzaSyBfiZP_S5wpf3AHIkbVcVEnqcWgDRcGYRY\r\n//Client ID RMUZLEACYYV2TOWXVNFTDFOTV11JTY4X3U4KKNDXMLDY2423\r\n//Client Secret 4AMQJSZIFGDXNKNIC120UOOMADB3CTJVDHZYOYB5Y2M2ITPX"]},"metadata":{},"sourceType":"module"}